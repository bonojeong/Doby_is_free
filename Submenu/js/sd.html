<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="movie_controler">
        <div class="movie_underbar"></div>
    </div>

    
    
    <script>
        //video자료 선언
//video 언더바 선언
//함수 - 현재시간/전체시간 *100해서 증가율 구하기
//언더바에 증가율 적용 
const video = document.querySelector('video')
const progressBar = document.querySelector('.movie_underbar')
const progress =document.querySelector('.movie_controler')
function handleProgress(){
    const percent = (video.currentTime / video.duration) *100;    
    progressBar.style.width = `${percent}%`
}
//timeupdate는 재생위치가 변경되었을때 발생!
//이벤트 후의 시간을 반환한다 ! 
video.addEventListener('timeupdate',handleProgress);

//(이벤트가 발생한 x축 위치 / movie_controler의 넓이) * 비디오 전체 길이
// 마우스를 찍었을때 영상이 어디쯤인지 알기 위한 식
// 구한 값이 video의 current 값으로 변환
function scrub(e) { 
    const scrubTime = (e.offsetX / progress.offsetWidth) * video.duration; 
    video.currentTime = scrubTime; 
} 
//마우스 클릭했을때 scrub 동작
//마우스 누른 상태로 움직일때 마우스down과 scrub 동작
let mousedown = false; 
progress.addEventListener('click', scrub); 
progress.addEventListener('mousemove', (e) => mousedown && scrub(e)); 
progress.addEventListener('mousedown', () => mousedown = true); 
progress.addEventListener('mouseup', () => mousedown = false);

let visualInnerText = document.querySelector('.vis_upper_text p').children
let reserve_btn = document.querySelector('.reserve_btn');
let visLowerInnerText = document.querySelector('.vis_lower_text > p ');
    </script>
</body>
</html>
